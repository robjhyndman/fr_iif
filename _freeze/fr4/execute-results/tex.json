{
  "hash": "3400f1e21914ac81060bdf0da51ccf7f",
  "result": {
    "markdown": "---\ntitle: Forecast reconciliation\nsubtitle: 4. Temporal & cross-temporal forecast reconcilation\nauthor: Rob J Hyndman\npdf-engine: pdflatex\nfig-width: 9\nfig-height: 4.5\nformat:\n  beamer:\n    theme: monash\n    aspectratio: 169\n    fontsize: 14pt\n    section-titles: false\n    knitr:\n      opts_chunk:\n        dev: \"CairoPDF\"\ninclude-in-header: header.tex\ncite-method: biblatex\nbibliography: hts.bib\nbiblio-title: References\nkeep-tex: true\nexecute:\n  echo: false\n  message: false\n  warning: false\n  cache: true\n---\n\n::: {.cell hash='fr4_cache/beamer/unnamed-chunk-1_32f6537348dfbc0e7aeaa9ca604acec2'}\n\n:::\n\n\n## Outline\n\n\\vspace*{0.4cm}\\tableofcontents\n\n## Notation reminder\n\n* Data: $\\bm{y}_t = \\bm{S}\\bm{b}_t$ where $\\bm{S}$ is a summing matrix and $\\bm{b}_t$ is a vector of disaggregated time series\n* Base forecasts: $\\hat{\\bm{y}}_{T+h|T}$\n* Reconciled forecasts: $\\tilde{\\bm{y}}_{T+h|T}=\\bS\\bm{G}\\hat{\\bm{y}}_{T+h|T}$\n* MinT: $\\bG = (\\bS'\\bm{W}_h^{-1}\\bS)^{-1}\\bS'\\bm{W}_h^{-1}$ where $\\bm{W}_h$ is covariance matrix of base forecast errors.\n\n\n## Temporal reconciliation\n\n\\only<1>{\\begin{tikzpicture}\n\\tikzstyle{every node}=[ellipse,draw,inner sep=0.2pt,fill=red!15,font=\\small]\n\\tikzstyle[level distance=.1cm]\n\\tikzstyle[sibling distance=7cm]\n\\tikzstyle{level 1}=[sibling distance=72mm,set style={{every node}+=[fill=blue!15]}]\n\\tikzstyle{level 2}=[sibling distance=36mm,set style={{every node}+=[fill=yellow]}]\n\\tikzstyle{level 3}=[sibling distance=12mm,font=\\scriptsize,set style={{every node}+=[fill=green]}]\n\\node{Annual}[edge from parent fork down]\n child {node {Semi-Annual$_1$}\n   child {node {Q$_1$}\n     child {node {\\scriptsize M$_1$}}\n     child {node {\\scriptsize M$_2$}}\n     child {node {\\scriptsize M$_3$}}\n   }\n   child {node {Q$_2$}\n     child {node {\\scriptsize M$_4$}}\n     child {node {\\scriptsize M$_5$}}\n     child {node {\\scriptsize M$_6$}}\n   }\n }\n child {node {Semi-Annual$_2$}\n   child {node {Q$_3$}\n     child {node {\\scriptsize M$_7$}}\n     child {node {\\scriptsize M$_8$}}\n     child {node {\\scriptsize M$_9$}}\n   }\n   child {node {Q$_4$}\n     child {node {\\scriptsize M$_{10}$}}\n     child {node {\\scriptsize M$_{11}$}}\n     child {node {\\scriptsize M$_{12}$}}\n   }\n };\n\\end{tikzpicture}}\n\\only<2->{\\begin{tikzpicture}\n\\tikzstyle{every node}=[ellipse,draw,inner sep=0.2pt,fill=red!15,font=\\small]\n\\tikzstyle[level distance=.1cm]\n\\tikzstyle[sibling distance=7cm]\n\\tikzstyle{level 1}=[sibling distance=48mm,set style={{every node}+=[fill=blue!15]}]\n\\tikzstyle{level 2}=[sibling distance=24mm,set style={{every node}+=[fill=yellow]}]\n\\tikzstyle{level 3}=[sibling distance=12mm,set style={{every node}+=[fill=green]}]\n\\node{Annual}[edge from parent fork down]\n child {node {FourM$_1$}\n   child {node {BiM$_1$}\n     child {node {\\scriptsize M$_1$}}\n     child {node {\\scriptsize M$_2$}}\n   }\n   child {node {BiM$_2$}\n     child {node {\\scriptsize M$_3$}}\n     child {node {\\scriptsize M$_4$}}\n   }\n }\n child {node {FourM$_2$}\n   child {node {BiM$_3$}\n     child {node {\\scriptsize M$_5$}}\n     child {node {\\scriptsize M$_6$}}\n   }\n   child {node {BiM$_4$}\n     child {node {\\scriptsize M$_7$}}\n     child {node {\\scriptsize M$_8$}}\n   }\n }\n  child {node {FourM$_3$}\n   child {node {BiM$_5$}\n     child {node {\\scriptsize M$_9$}}\n     child {node {\\scriptsize M$_{10}$}}\n   }\n   child {node {BiM$_6$}\n     child {node {\\scriptsize M$_{11}$}}\n     child {node {\\scriptsize M$_{12}$}}\n   }\n };\n\\end{tikzpicture}}\\pause\n\n\\vspace*{10cm}\n\n\\only<3>{\\begin{textblock}{12}(2,7)\n\\begin{alertblock}{}\n\\begin{itemize}\n\\item[\\color{white}\\ding{229}] Forecast series at each available frequency.\n\\item[\\color{white}\\ding{229}] Optimally combine forecasts within the same year.\n\\end{itemize}\n\\end{alertblock}\n\\end{textblock}}\n\n## Temporal reconciliation\n\\fontsize{14}{15}\\sf\n\nFor a time series  $y_1,\\dots,y_T$, observed at frequency $m$, we generate aggregate series\n\\begin{alertblock}{}\\vspace*{-0.1cm}\n\\[\ny_j^{\\left[k\\right]} = \\sum^{jk}_{t=1+(j-1)k}{y_t},\\qquad \\text{for $j = 1,\\dots,\\lfloor T/k\\rfloor$}\n\\]\n\\end{alertblock}\n* $k \\in F(m)=\\{\\text{factors of $m$}\\}$.\n* A single unique hierarchy is only possible when there are no coprime pairs in $F(m)$.\n* $M_k=m/k$ is seasonal period of aggregated series.\n* Proposed by Athanasopoulos, Hyndman, Kourentzes, Petropoulos (*EJOR*, 2017)\n\n## Cross-temporal reconciliation\n\n\\begin{block}{}\n\\begin{itemize}\n\\item Kourentzes, Athanasopoulos (\\emph{ATR}, 2019)\n\\item Punia, Singh, Madaan (\\emph{C\\&IE}, 2020)\n\\item Di Fonzo,  Girolimetto (2020)\n\\end{itemize}\n\\end{block}\\pause\n\n\\begin{alertblock}{ISF talks coming up!}\n\\begin{itemize}\n\\item[\\ding{229}] Mitch O'Hara-Wild: \\emph{Probabilistic cross-temporal hierarchies in fable} (in about 3 hours)\n\\item[\\ding{229}] Tommi Di Fonzo: \\emph{Non-negative cross-temporal forecast reconciliation. An application to the Australian domestic tourism flows} (in about 11 hours).\n\\end{itemize}\n\\end{alertblock}\n\n\\vspace*{10cm}\n\n## Thief\n\n* thief paper\n\n## Daniele and Tommy's papers\n\n\\nocite{Di_FonGir2022a,temporal-hierarchies}\n\n\n# Cross-temporal probabilistic forecast reconciliation\n\n##  Cross-temporal probabilistic forecast reconciliation\n\n## Thanks!\n\n\\placefig{0}{1.4}{trim = 10 45 0 0, clip=TRUE, width=10cm, height=2.5cm}{roman}\n\\placefig{2}{1.4}{trim = 20 20 0 0, clip=TRUE, width=10cm, height=2.7cm}{george}\n\\placefig{4}{1.4}{trim = 0 10 0 0, clip=TRUE, width=10cm, height=2.5cm}{hanlin}\n\\placefig{6}{1.4}{trim = 10 0 0 0, clip=TRUE, width=10cm, height=2.5cm}{earowang}\n\\placefig{8}{1.4}{trim = 0 15 0 0, clip=TRUE, width=10cm, height=2.5cm}{alanlee}\n\\placefig{10}{1.4}{trim = 30 0 0 0, clip=TRUE, width=10cm, height=2.5cm}{mitch}\n\\placefig{12}{1.4}{trim = 15 0 0 0, clip=TRUE, width=10cm, height=2.5cm}{shanika}\n\\placefig{14}{1.4}{trim = 40 0 0 0, clip=TRUE, width=10cm, height=2.5cm}{tas}\n\n\\placefig{0}{3.9}{trim = 30 10 30 0, clip=TRUE, width=10cm, height=2.5cm}{puwasala}\n\\placefig{2}{3.9}{trim = 0 10 0 0, clip=TRUE, width=10cm, height=2.5cm}{fotios}\n\\placefig{4}{3.9}{trim = 100 30 50 20, clip=TRUE, width=10cm, height=2.5cm}{nikos}\n\\placefig{6}{3.9}{trim = 50 30 0 0, clip=TRUE, width=10cm, height=2.5cm}{souhaib}\n\\placefig{8}{3.9}{trim = 110 40 50 0, clip=TRUE, width=10cm, height=2.5cm}{james}\n\\placefig{10}{3.9}{trim = 40 40 0 0, clip=TRUE, width=10cm, height=2.5cm}{mahdi}\n\\placefig{12}{3.9}{trim = 50 50 0 0, clip=TRUE, width=10cm, height=2.5cm}{christoph}\n\\placefig{14}{3.9}{trim = 50 50 0 20, clip=TRUE, width=10cm, height=2.5cm}{fin}\n\n\\placefig{0}{6.4}{trim = 10 0 0 0, clip=TRUE, width=10cm, height=2.5cm}{berwin}\n\\placefig{2}{6.4}{trim = 10 20 0 0, clip=TRUE, width=10cm, height=2.5cm}{galit}\n\\placefig{4}{6.4}{trim = 10 0 0 0, clip=TRUE, width=10cm, height=2.5cm}{mahsa}\n\\placefig{6}{6.4}{trim = 10 0 0 0, clip=TRUE, width=10cm, height=2.5cm}{florian}\n\\placefig{8}{6.4}{trim = 30 0 0 0, clip=TRUE, width=10cm, height=2.5cm}{evan}\n\\placefig{10}{6.4}{trim = 5 5 0 0, clip=TRUE, width=10cm, height=2.5cm}{vassilis}\n\\placefig{12}{6.4}{trim = 90 0 0 0, clip=TRUE, width=10cm, height=2.5cm}{carla}\n\\placefig{14}{6.4}{trim = 0 40 0 0, clip=TRUE, width=10cm, height=2.5cm}{pablo}\n\n## More information\n\\fontsize{18}{20}\\sf\n\n\\href{https://robjhyndman.com/fr2023}{\\includegraphics[width=0.5cm]{figs/slide}\\, robjhyndman.com/fr2023}\n\n\\href{https://robjhyndman.com}{\\faicon{home} robjhyndman.com}\n\n\\href{https://twitter.com/robjhyndman}{\\faicon{twitter} @robjhyndman}\n\n\\href{https://aus.social/@robjhyndman}{\\includegraphics[width=0.5cm]{figs/mastodon}\\, aus.social/@robjhyndman}\n\n\\href{https://github.com/robjhyndman}{\\faicon{github}  @robjhyndman}\n\n\\href{mailto:rob.hyndman@monash.edu}{\\faicon{envelope}  rob.hyndman@monash.edu}\n\n\\begin{textblock}{6.2}(0,8.8)\\pgfsetfillopacity{0.65}\n\\begin{beamercolorbox}[wd=4.7cm]{block body}\n\\fontsize{6}{6}\\sf\\color[RGB]{72,45,34}\\href{https://www.flaticon.com/free-icons/presentation}{Presentation icon created by orvipixel - Flaticon}\n\\end{beamercolorbox}\n\\end{textblock}\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}